import{M as W,P as h}from"./projects-BmSH7yOo.js";import{d as T,r as l,c as U,t as A,o as Q,a as R,b as s,e as r,f as i,n as p,F as E,g as M,h as f,u as P,i as q,j as G,k as o,l as $,w as x,m as H,p as J,_ as K}from"./index-KCaocDXr.js";const O={class:"projects"},X={class:"container"},Y={key:0,class:"loading-state"},Z={key:1,class:"error-state"},ee=["alt","onLoad","onError"],te={class:"project-content"},se={class:"project-title"},oe={class:"project-description"},re={class:"project-meta"},ae={class:"project-tags"},le={key:0,class:"project-links"},ne=["href"],ie=["href"],ce={key:3,class:"empty-state"},de={key:0},ue={key:1},ve=T({__name:"Projects",props:{selectedCategory:{default:""},viewMode:{default:"grid"}},emits:["update-project-filters","update:selectedCategory"],setup(z,{emit:D}){const d=z,k=D,c=l(""),j=l([]),F=l([]),g=l(!1),u=l(null),m=l(!1),n=l({}),y=()=>{m.value=window.innerWidth<=767},N=e=>{if(!e)return"";if(e.startsWith("http"))return e;const a=window.location.hostname==="mrleemurray.github.io"?"/site":"";return e.startsWith("/")?`${a}${e}`:`${a}/${e}`},v=U(()=>m.value?"grid":d.viewMode),C=U(()=>{let e=j.value;return d.selectedCategory&&(e=h.getProjectsByCategory(e,d.selectedCategory)),c.value&&(e=h.searchProjects(e,c.value)),h.sortProjects(e,"date")}),{selectedCategory:b}=A(d),V=()=>{c.value="",k("update:selectedCategory","")},B=e=>{n.value[e]=!0},I=e=>{n.value[e]=!0},w=async()=>{g.value=!0,u.value=null;try{const e=await W.loadProjectsData();j.value=e.projects,F.value=e.categories,n.value={},e.projects.forEach(a=>{n.value[a.id]=!1}),k("update-project-filters",{categories:e.categories})}catch(e){u.value="Failed to load projects. Please try again later.",console.error("Error loading projects:",e)}finally{g.value=!1}};return Q(()=>{w(),y(),window.addEventListener("resize",y)}),R(()=>{window.removeEventListener("resize",y)}),(e,a)=>{const L=q("router-link"),S=G("lazy");return o(),s("div",O,[r("div",X,[g.value?(o(),s("div",Y,[...a[0]||(a[0]=[r("p",null,"Loading projects...",-1)])])):u.value?(o(),s("div",Z,[r("p",null,i(u.value),1),r("button",{onClick:w,class:"btn btn-primary"},"Try Again")])):C.value.length>0?(o(),s("div",{key:2,class:p(["projects-container",[v.value==="grid"?"projects-grid":"projects-list"]])},[(o(!0),s(E,null,M(C.value,t=>(o(),s("article",{key:t.id,class:p(["project-card",{"project-card--list":v.value==="list","project-card--featured":t.featured&&v.value==="grid"||m.value&&v.value==="grid"}])},[r("div",{class:p(["project-image",{"image-loaded":n.value[t.id]}])},[$(L,{to:`/projects/${t.id}`},{default:x(()=>[H(r("img",{alt:t.title,class:p({loaded:n.value[t.id]}),onLoad:_=>B(t.id),onError:_=>I(t.id)},null,42,ee),[[S,N(t.image)]])]),_:2},1032,["to"])],2),r("div",te,[r("h3",se,[$(L,{to:`/projects/${t.id}`},{default:x(()=>[J(i(t.title),1)]),_:2},1032,["to"])]),r("p",oe,i(t.description),1),r("div",re,[r("div",ae,[(o(!0),s(E,null,M(t.tags,_=>(o(),s("span",{key:_,class:"tag"},i(_),1))),128))]),t.liveUrl||t.sourceUrl?(o(),s("div",le,[t.liveUrl?(o(),s("a",{key:0,href:t.liveUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link"},i(t.liveUrlLabel||"Live Demo"),9,ne)):f("",!0),t.sourceUrl?(o(),s("a",{key:1,href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link"},i(t.sourceUrlLabel||"Source Code"),9,ie)):f("",!0)])):f("",!0)])])],2))),128))],2)):(o(),s("div",ce,[a[1]||(a[1]=r("h3",null,"No projects found",-1)),c.value||P(b)?(o(),s("p",de)):(o(),s("p",ue," Projects are coming soon! Check back later. ")),c.value||P(b)?(o(),s("button",{key:2,onClick:V,class:"btn btn-primary"}," Clear Filters ")):f("",!0)]))])])}}}),fe=K(ve,[["__scopeId","data-v-e880ae65"]]);export{fe as default};
