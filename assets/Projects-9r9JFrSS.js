import{M as W,P as y}from"./projects-CkXPFqN6.js";import{d as T,r as l,c as L,t as U,o as A,a as Q,b as s,e as o,f as p,n as _,F as E,g as M,h as R,u as P,i as q,j as G,k as a,l as $,w as x,m as H,p as J,_ as K}from"./index-D6fMZ8Hb.js";const O={class:"projects"},X={class:"container"},Y={key:0,class:"loading-state"},Z={key:1,class:"error-state"},ee=["alt","onLoad","onError"],te={class:"project-content"},se={class:"project-title"},oe={class:"project-description"},ae={class:"project-meta"},re={class:"project-tags"},le={key:3,class:"empty-state"},ne={key:0},ie={key:1},ce=T({__name:"Projects",props:{selectedCategory:{default:""},viewMode:{default:"grid"}},emits:["update-project-filters","update:selectedCategory"],setup(z,{emit:F}){const c=z,h=F,i=l(""),j=l([]),N=l([]),g=l(!1),d=l(null),f=l(!1),n=l({}),m=()=>{f.value=window.innerWidth<=767},V=e=>{if(!e)return"";if(e.startsWith("http"))return e;const r=window.location.hostname==="mrleemurray.github.io"?"/site":"";return e.startsWith("/")?`${r}${e}`:`${r}/${e}`},u=L(()=>f.value?"grid":c.viewMode),k=L(()=>{let e=j.value;return c.selectedCategory&&(e=y.getProjectsByCategory(e,c.selectedCategory)),i.value&&(e=y.searchProjects(e,i.value)),y.sortProjects(e,"date")}),{selectedCategory:w}=U(c),B=()=>{i.value="",h("update:selectedCategory","")},D=e=>{n.value[e]=!0},I=e=>{n.value[e]=!0},C=async()=>{g.value=!0,d.value=null;try{const e=await W.loadProjectsData();j.value=e.projects,N.value=e.categories,n.value={},e.projects.forEach(r=>{n.value[r.id]=!1}),h("update-project-filters",{categories:e.categories})}catch(e){d.value="Failed to load projects. Please try again later.",console.error("Error loading projects:",e)}finally{g.value=!1}};return A(()=>{C(),m(),window.addEventListener("resize",m)}),Q(()=>{window.removeEventListener("resize",m)}),(e,r)=>{const b=q("router-link"),S=G("lazy");return a(),s("div",O,[o("div",X,[g.value?(a(),s("div",Y,[...r[0]||(r[0]=[o("p",null,"Loading projects...",-1)])])):d.value?(a(),s("div",Z,[o("p",null,p(d.value),1),o("button",{onClick:C,class:"btn btn-primary"},"Try Again")])):k.value.length>0?(a(),s("div",{key:2,class:_(["projects-container",[u.value==="grid"?"projects-grid":"projects-list"]])},[(a(!0),s(E,null,M(k.value,t=>(a(),s("article",{key:t.id,class:_(["project-card",{"project-card--list":u.value==="list","project-card--featured":t.featured&&u.value==="grid"||f.value&&u.value==="grid"}])},[o("div",{class:_(["project-image",{"image-loaded":n.value[t.id]}])},[$(b,{to:`/projects/${t.id}`},{default:x(()=>[H(o("img",{alt:t.title,class:_({loaded:n.value[t.id]}),onLoad:v=>D(t.id),onError:v=>I(t.id)},null,42,ee),[[S,V(t.image)]])]),_:2},1032,["to"])],2),o("div",te,[o("h3",se,[$(b,{to:`/projects/${t.id}`},{default:x(()=>[J(p(t.title),1)]),_:2},1032,["to"])]),o("p",oe,p(t.description),1),o("div",ae,[o("div",re,[(a(!0),s(E,null,M(t.tags,v=>(a(),s("span",{key:v,class:"tag"},p(v),1))),128))])])])],2))),128))],2)):(a(),s("div",le,[r[1]||(r[1]=o("h3",null,"No projects found",-1)),i.value||P(w)?(a(),s("p",ne)):(a(),s("p",ie," Projects are coming soon! Check back later. ")),i.value||P(w)?(a(),s("button",{key:2,onClick:B,class:"btn btn-primary"}," Clear Filters ")):R("",!0)]))])])}}}),ve=K(ce,[["__scopeId","data-v-9042032a"]]);export{ve as default};
