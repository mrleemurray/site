import{q as g}from"./index-izg2o3QL.js";class u{static parseYAML(t){const a=t.split(`
`),r={};for(const s of a){const o=s.trim();if(!o||o.startsWith("#"))continue;const e=o.indexOf(":");if(e===-1)continue;const n=o.substring(0,e).trim();let c=o.substring(e+1).trim(),i;c.startsWith("[")&&c.endsWith("]")?i=c.slice(1,-1).split(",").map(m=>m.trim().replace(/^["']|["']$/g,"")):c==="true"||c==="false"?i=c==="true":!isNaN(Number(c))&&c!==""?i=Number(c):i=c.replace(/^["']|["']$/g,""),r[n]=i}return r}static parseMarkdownWithFrontmatter(t){const a=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,r=t.match(a);if(!r)throw new Error("No frontmatter found in markdown file");const[,s,o]=r,e=this.parseYAML(s),n=["id","title","subtitle","description","category"];for(const c of n)if(!e[c])throw new Error(`Missing required frontmatter field: ${c}`);return e.tags=e.tags||[],e.image=e.image||"",e.featured=e.featured||!1,e.liveUrl=e.liveUrl||"",e.sourceUrl=e.sourceUrl||"",e.liveUrlLabel=e.liveUrlLabel||"Live Demo",e.sourceUrlLabel=e.sourceUrlLabel||"Source Code",e.completedAt=e.completedAt||"",e.duration=e.duration||"",{frontmatter:e,content:o}}}class d{static cache=new Map;static projectsCache=null;static getBasePath(){return window.location.hostname==="mrleemurray.github.io"?"/site":""}static async loadProjectContent(t){if(this.cache.has(t))return this.cache.get(t);try{const{MARKDOWN_CONTENT:a}=await g(async()=>{const{MARKDOWN_CONTENT:o}=await import("./markdown-content-BnNHDLCo.js");return{MARKDOWN_CONTENT:o}},[]),r=a[t];if(!r)throw new Error(`Project content not found: ${t}`);const s=u.parseMarkdownWithFrontmatter(r);return this.cache.set(t,s),s}catch(a){throw console.error("Error loading markdown:",a),new Error(`Failed to load project: ${t}`)}}static async loadProjectsData(){if(this.projectsCache)return this.projectsCache;try{const{PROJECT_REGISTRY:t}=await g(async()=>{const{PROJECT_REGISTRY:e}=await import("./project-registry-LXY8WSjq.js");return{PROJECT_REGISTRY:e}},[]),a=[],r=new Map;for(const e of t)try{const n=await this.loadProjectContent(e);a.push(n.frontmatter);const c=n.frontmatter.category;r.set(c,(r.get(c)||0)+1)}catch(n){console.warn(`Failed to load project ${e}:`,n)}const s=[{id:"web",name:"Web Development",count:r.get("web")||0},{id:"mobile",name:"Mobile",count:r.get("mobile")||0},{id:"api",name:"APIs",count:r.get("api")||0},{id:"tools",name:"Tools",count:r.get("tools")||0}],o={projects:a,categories:s};return this.projectsCache=o,o}catch(t){return console.error("Error loading projects data:",t),{projects:[],categories:[]}}}static parseMarkdownToHTML(t){const a=o=>o.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),r=this.getBasePath();return t.replace(/^### (.*$)/gim,(o,e)=>`<h3 id="${a(e)}">${e}</h3>`).replace(/^## (.*$)/gim,(o,e)=>`<h2 id="${a(e)}">${e}</h2>`).replace(/^# (.*$)/gim,(o,e)=>`<h1 id="${a(e)}">${e}</h1>`).replace(/\*\*\*(.*)\*\*\*/gim,"<strong><em>$1</em></strong>").replace(/\*\*(.*)\*\*/gim,"<strong>$1</strong>").replace(/\*(.*)\*/gim,"<em>$1</em>").replace(/!\[([^\]]*)\]\(([^)]+)\)/gim,(o,e,n)=>{const c=n.startsWith("/")?`${r}${n}`:n.startsWith("http")?n:`${r}/${n}`;return`<img alt="${e}" src="${c}" />`}).replace(/\[([^\]]+)\]\(([^)]+)\)/gim,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/```(\w+)?\n([\s\S]*?)```/gim,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/gim,"<code>$1</code>").replace(/^\- (.*$)/gim,"<li>$1</li>").replace(/(<li>.*<\/li>)/gis,"<ul>$1</ul>").replace(/\n\n/gim,"</p><p>").replace(/^(.*)$/gim,"<p>$1</p>").replace(/<p><\/p>/gim,"").replace(/<p>(<h[1-6]>.*<\/h[1-6]>)<\/p>/gim,"$1").replace(/<p>(<pre>.*<\/pre>)<\/p>/gims,"$1").replace(/<p>(<ul>.*<\/ul>)<\/p>/gims,"$1")}static extractTableOfContents(t){const a=[],r=/^(#{1,6})\s+(.*)$/gm;let s;for(;(s=r.exec(t))!==null;){const o=s[1].length,e=s[2].trim(),n=e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();a.push({id:n,text:e,level:o})}return a}static clearCache(){this.cache.clear()}}class h{static getProjectById(t,a){return t.find(r=>r.id===a)}static getProjectsByCategory(t,a){return a?t.filter(r=>r.category===a):t}static getFeaturedProjects(t){return t.filter(a=>a.featured)}static searchProjects(t,a){if(!a)return t;const r=a.toLowerCase();return t.filter(s=>s.title.toLowerCase().includes(r)||s.description.toLowerCase().includes(r)||s.tags.some(o=>o.toLowerCase().includes(r)))}static sortProjects(t,a="date"){return[...t].sort((r,s)=>{switch(a){case"title":return r.title.localeCompare(s.title);case"category":return r.category.localeCompare(s.category);case"date":default:return new Date(s.completedAt).getTime()-new Date(r.completedAt).getTime()}})}static getProjectStats(t){const a=t.length,r=t.filter(e=>e.featured).length,s=[...new Set(t.map(e=>e.category))].length,o=[...new Set(t.flatMap(e=>e.tags))].length;return{totalProjects:a,featuredProjects:r,categories:s,technologies:o}}}export{d as M,h as P};
