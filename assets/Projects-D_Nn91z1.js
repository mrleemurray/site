import{M as D,P as h}from"./projects-sKWe17C0.js";import{d as W,r as l,c as U,t as T,o as A,a as Q,b as s,e as r,f as i,n as p,F as E,g as M,h as f,u as P,i as R,j as o,k as $,w as x,l as q,_ as G}from"./index-BBaK0i8Q.js";const H={class:"projects"},J={class:"container"},K={key:0,class:"loading-state"},O={key:1,class:"error-state"},X=["src","alt","onLoad","onError"],Y={class:"project-content"},Z={class:"project-title"},ee={class:"project-description"},te={class:"project-meta"},se={class:"project-tags"},oe={key:0,class:"project-links"},re=["href"],ae=["href"],le={key:3,class:"empty-state"},ne={key:0},ie={key:1},ce=W({__name:"Projects",props:{selectedCategory:{default:""},viewMode:{default:"grid"}},emits:["update-project-filters","update:selectedCategory"],setup(F,{emit:N}){const d=F,k=N,c=l(""),j=l([]),V=l([]),g=l(!1),u=l(null),m=l(!1),n=l({}),y=()=>{m.value=window.innerWidth<=767},z=e=>{if(!e)return"";if(e.startsWith("http"))return e;const a=window.location.hostname==="mrleemurray.github.io"?"/site":"";return e.startsWith("/")?`${a}${e}`:`${a}/${e}`},v=U(()=>m.value?"grid":d.viewMode),b=U(()=>{let e=j.value;return d.selectedCategory&&(e=h.getProjectsByCategory(e,d.selectedCategory)),c.value&&(e=h.searchProjects(e,c.value)),h.sortProjects(e,"date")}),{selectedCategory:C}=T(d),B=()=>{c.value="",k("update:selectedCategory","")},I=e=>{n.value[e]=!0},S=e=>{n.value[e]=!0},w=async()=>{g.value=!0,u.value=null;try{const e=await D.loadProjectsData();j.value=e.projects,V.value=e.categories,n.value={},e.projects.forEach(a=>{n.value[a.id]=!1}),k("update-project-filters",{categories:e.categories})}catch(e){u.value="Failed to load projects. Please try again later.",console.error("Error loading projects:",e)}finally{g.value=!1}};return A(()=>{w(),y(),window.addEventListener("resize",y)}),Q(()=>{window.removeEventListener("resize",y)}),(e,a)=>{const L=R("router-link");return o(),s("div",H,[r("div",J,[g.value?(o(),s("div",K,[...a[0]||(a[0]=[r("p",null,"Loading projects...",-1)])])):u.value?(o(),s("div",O,[r("p",null,i(u.value),1),r("button",{onClick:w,class:"btn btn-primary"},"Try Again")])):b.value.length>0?(o(),s("div",{key:2,class:p(["projects-container",[v.value==="grid"?"projects-grid":"projects-list"]])},[(o(!0),s(E,null,M(b.value,t=>(o(),s("article",{key:t.id,class:p(["project-card",{"project-card--list":v.value==="list","project-card--featured":t.featured&&v.value==="grid"||m.value&&v.value==="grid"}])},[r("div",{class:p(["project-image",{"image-loaded":n.value[t.id]}])},[$(L,{to:`/projects/${t.id}`},{default:x(()=>[r("img",{src:z(t.image),alt:t.title,class:p({loaded:n.value[t.id]}),loading:"lazy",onLoad:_=>I(t.id),onError:_=>S(t.id)},null,42,X)]),_:2},1032,["to"])],2),r("div",Y,[r("h3",Z,[$(L,{to:`/projects/${t.id}`},{default:x(()=>[q(i(t.title),1)]),_:2},1032,["to"])]),r("p",ee,i(t.description),1),r("div",te,[r("div",se,[(o(!0),s(E,null,M(t.tags,_=>(o(),s("span",{key:_,class:"tag"},i(_),1))),128))]),t.liveUrl||t.sourceUrl?(o(),s("div",oe,[t.liveUrl?(o(),s("a",{key:0,href:t.liveUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link"},i(t.liveUrlLabel||"Live Demo"),9,re)):f("",!0),t.sourceUrl?(o(),s("a",{key:1,href:t.sourceUrl,target:"_blank",rel:"noopener noreferrer",class:"project-link"},i(t.sourceUrlLabel||"Source Code"),9,ae)):f("",!0)])):f("",!0)])])],2))),128))],2)):(o(),s("div",le,[a[1]||(a[1]=r("h3",null,"No projects found",-1)),c.value||P(C)?(o(),s("p",ne)):(o(),s("p",ie," Projects are coming soon! Check back later. ")),c.value||P(C)?(o(),s("button",{key:2,onClick:B,class:"btn btn-primary"}," Clear Filters ")):f("",!0)]))])])}}}),ve=G(ce,[["__scopeId","data-v-fa6a29bc"]]);export{ve as default};
