import{q as p}from"./index-BKnbxYYl.js";class d{static parseYAML(a){const r=a.split(`
`),t={};for(const s of r){const o=s.trim();if(!o||o.startsWith("#"))continue;const e=o.indexOf(":");if(e===-1)continue;const n=o.substring(0,e).trim();let c=o.substring(e+1).trim(),i;c.startsWith("[")&&c.endsWith("]")?i=c.slice(1,-1).split(",").map(g=>g.trim().replace(/^["']|["']$/g,"")):c==="true"||c==="false"?i=c==="true":!isNaN(Number(c))&&c!==""?i=Number(c):i=c.replace(/^["']|["']$/g,""),t[n]=i}return t}static parseMarkdownWithFrontmatter(a){const r=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,t=a.match(r);if(!t)throw new Error("No frontmatter found in markdown file");const[,s,o]=t,e=this.parseYAML(s),n=["id","title","subtitle","description","category"];for(const c of n)if(!e[c])throw new Error(`Missing required frontmatter field: ${c}`);return e.tags=e.tags||[],e.image=e.image||"",e.featured=e.featured||!1,e.liveUrl=e.liveUrl||"",e.sourceUrl=e.sourceUrl||"",e.liveUrlLabel=e.liveUrlLabel||"Live Demo",e.sourceUrlLabel=e.sourceUrlLabel||"Source Code",e.completedAt=e.completedAt||"",e.duration=e.duration||"",{frontmatter:e,content:o}}}class u{static cache=new Map;static projectsCache=null;static async loadProjectContent(a){const r=`/projects/${a}.md`;if(this.cache.has(r))return this.cache.get(r);try{const t=await fetch(r);if(!t.ok)throw new Error(`Failed to load markdown: ${t.statusText}`);const s=await t.text(),o=d.parseMarkdownWithFrontmatter(s);return this.cache.set(r,o),o}catch(t){throw console.error("Error loading markdown:",t),new Error(`Failed to load project: ${a}`)}}static async loadProjectsData(){if(this.projectsCache)return this.projectsCache;try{const{PROJECT_REGISTRY:a}=await p(async()=>{const{PROJECT_REGISTRY:e}=await import("./project-registry-LXY8WSjq.js");return{PROJECT_REGISTRY:e}},[]),r=[],t=new Map;for(const e of a)try{const n=await this.loadProjectContent(e);r.push(n.frontmatter);const c=n.frontmatter.category;t.set(c,(t.get(c)||0)+1)}catch(n){console.warn(`Failed to load project ${e}:`,n)}const s=[{id:"web",name:"Web Development",count:t.get("web")||0},{id:"mobile",name:"Mobile",count:t.get("mobile")||0},{id:"api",name:"APIs",count:t.get("api")||0},{id:"tools",name:"Tools",count:t.get("tools")||0}],o={projects:r,categories:s};return this.projectsCache=o,o}catch(a){return console.error("Error loading projects data:",a),{projects:[],categories:[]}}}static parseMarkdownToHTML(a){const r=s=>s.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return a.replace(/^### (.*$)/gim,(s,o)=>`<h3 id="${r(o)}">${o}</h3>`).replace(/^## (.*$)/gim,(s,o)=>`<h2 id="${r(o)}">${o}</h2>`).replace(/^# (.*$)/gim,(s,o)=>`<h1 id="${r(o)}">${o}</h1>`).replace(/\*\*\*(.*)\*\*\*/gim,"<strong><em>$1</em></strong>").replace(/\*\*(.*)\*\*/gim,"<strong>$1</strong>").replace(/\*(.*)\*/gim,"<em>$1</em>").replace(/!\[([^\]]*)\]\(([^)]+)\)/gim,(s,o,e)=>{const n=e.startsWith("/")||e.startsWith("http")?e:`/${e}`;return`<img alt="${o}" src="${n}" />`}).replace(/\[([^\]]+)\]\(([^)]+)\)/gim,'<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>').replace(/```(\w+)?\n([\s\S]*?)```/gim,'<pre><code class="language-$1">$2</code></pre>').replace(/`([^`]+)`/gim,"<code>$1</code>").replace(/^\- (.*$)/gim,"<li>$1</li>").replace(/(<li>.*<\/li>)/gis,"<ul>$1</ul>").replace(/\n\n/gim,"</p><p>").replace(/^(.*)$/gim,"<p>$1</p>").replace(/<p><\/p>/gim,"").replace(/<p>(<h[1-6]>.*<\/h[1-6]>)<\/p>/gim,"$1").replace(/<p>(<pre>.*<\/pre>)<\/p>/gims,"$1").replace(/<p>(<ul>.*<\/ul>)<\/p>/gims,"$1")}static extractTableOfContents(a){const r=[],t=/^(#{1,6})\s+(.*)$/gm;let s;for(;(s=t.exec(a))!==null;){const o=s[1].length,e=s[2].trim(),n=e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();r.push({id:n,text:e,level:o})}return r}static clearCache(){this.cache.clear()}}class h{static getProjectById(a,r){return a.find(t=>t.id===r)}static getProjectsByCategory(a,r){return r?a.filter(t=>t.category===r):a}static getFeaturedProjects(a){return a.filter(r=>r.featured)}static searchProjects(a,r){if(!r)return a;const t=r.toLowerCase();return a.filter(s=>s.title.toLowerCase().includes(t)||s.description.toLowerCase().includes(t)||s.tags.some(o=>o.toLowerCase().includes(t)))}static sortProjects(a,r="date"){return[...a].sort((t,s)=>{switch(r){case"title":return t.title.localeCompare(s.title);case"category":return t.category.localeCompare(s.category);case"date":default:return new Date(s.completedAt).getTime()-new Date(t.completedAt).getTime()}})}static getProjectStats(a){const r=a.length,t=a.filter(e=>e.featured).length,s=[...new Set(a.map(e=>e.category))].length,o=[...new Set(a.flatMap(e=>e.tags))].length;return{totalProjects:r,featuredProjects:t,categories:s,technologies:o}}}export{u as M,h as P};
